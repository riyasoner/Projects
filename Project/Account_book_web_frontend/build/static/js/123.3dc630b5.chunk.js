"use strict";(self.webpackChunkaccount_book_web=self.webpackChunkaccount_book_web||[]).push([[123],{8123:(e,n,a)=>{a.r(n),a.d(n,{default:()=>o});var s=a(9379),t=a(5043),r=a(6140),i=a(965),l=a(579);const o=()=>{const{post:e,get:n}=(0,r.A)(),[a,o]=(0,t.useState)({type:"",text:""}),[c,d]=(0,t.useState)([]),[u,h]=(0,t.useState)({}),[m,x]=(0,t.useState)({name:"",description:"",account_type:"PERSONNEL",unit:"inr",bookId:localStorage.getItem("bookId")||"",userId:""}),p=localStorage.getItem("userId"),v=e=>{x((0,s.A)((0,s.A)({},m),{},{[e.target.name]:e.target.value})),h((0,s.A)((0,s.A)({},u),{},{[e.target.name]:""}))};return(0,t.useEffect)(()=>{(async()=>{try{const e=await n("".concat(i.A.getAllUser,"?createdByUserId=").concat(p));d(Array.isArray(e.data)?e.data:[])}catch(e){console.error("Error fetching users:",e),d([])}})()},[]),(0,l.jsx)("div",{className:"container mt-5",style:{maxWidth:"1000px"},children:(0,l.jsxs)("div",{className:"card mx-auto",children:[(0,l.jsx)("div",{className:"card-header d-flex align-items-center",style:{backgroundColor:"#419EB9"},children:(0,l.jsx)("h6",{className:"text-white",children:"NEW ACCOUNT"})}),a.text&&(0,l.jsx)("div",{className:"alert ".concat("success"===a.type?"alert-success":"alert-danger"," m-3"),children:a.text}),(0,l.jsx)("div",{className:"card-body",children:(0,l.jsxs)("form",{onSubmit:async n=>{n.preventDefault();const a=(()=>{const e={};return m.name.trim()||(e.name="Name is required"),m.description.trim()||(e.description="Description is required"),m.userId||(e.userId="Owner selection is required"),e})();if(h(a),Object.keys(a).length>0)return;o({type:"",text:""});const t=localStorage.getItem("bookId"),r=(0,s.A)((0,s.A)({},m),{},{bookId:t,userId:Number(m.userId)});try{const n=await e(i.A.addAccount,r);null!==n&&void 0!==n&&n.data?(o({type:"success",text:n.message||"Account added successfully!"}),x({name:"",description:"",account_type:"PERSONNEL",unit:"inr",bookId:t||"",userId:""}),h({})):o({type:"error",text:n.message||"Failed to add account. Please try again."})}catch(l){console.error(l),o({type:"error",text:(null===l||void 0===l?void 0:l.message)||"An unexpected error occurred."})}},children:[(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("input",{type:"text",className:"form-control ".concat(u.name?"is-invalid":""),name:"name",value:m.name,onChange:v,placeholder:"Name",style:{border:"none"}}),u.name&&(0,l.jsx)("div",{className:"invalid-feedback",children:u.name})]}),(0,l.jsx)("hr",{}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsx)("input",{type:"text",className:"form-control ".concat(u.description?"is-invalid":""),name:"description",value:m.description,onChange:v,placeholder:"Description",style:{border:"none"}}),u.description&&(0,l.jsx)("div",{className:"invalid-feedback",children:u.description})]}),(0,l.jsx)("hr",{}),(0,l.jsxs)("div",{className:"mb-3 row",children:[(0,l.jsx)("div",{className:"col-md-6 mb-3",children:(0,l.jsxs)("select",{className:"form-select",name:"account_type",value:m.account_type,onChange:v,children:[(0,l.jsx)("option",{value:"PAYABLE_RECEIVABLE",children:"PAYABLE/RECEIVABLE"}),(0,l.jsx)("option",{value:"BANK",children:"BANK"}),(0,l.jsx)("option",{value:"CREDIT_CARD",children:"CREDIT CARD"}),(0,l.jsx)("option",{value:"CASH",children:"CASH"}),(0,l.jsx)("option",{value:"PERSONNEL",children:"PERSONNEL"}),(0,l.jsx)("option",{value:"PRODUCT",children:"PRODUCT"}),(0,l.jsx)("option",{value:"SAVINGS",children:"SAVINGS"}),(0,l.jsx)("option",{value:"NONE",children:"NONE"})]})}),(0,l.jsx)("div",{className:"col-md-6 mb-3",children:(0,l.jsxs)("select",{className:"form-select",name:"unit",value:m.unit,onChange:v,children:[(0,l.jsx)("option",{value:"usd",children:"$ United States Dollar (USD)"}),(0,l.jsx)("option",{value:"eur",children:"\u20ac Euro (EUR)"}),(0,l.jsx)("option",{value:"gbp",children:"\xa3 Pound Sterling (GBP)"}),(0,l.jsx)("option",{value:"inr",children:"\u20b9 Indian Rupee (INR)"}),(0,l.jsx)("option",{value:"jpy",children:"\xa5 Japanese Yen (JPY)"}),(0,l.jsx)("option",{value:"aud",children:"$ Australian Dollar (AUD)"}),(0,l.jsx)("option",{value:"cad",children:"$ Canadian Dollar (CAD)"}),(0,l.jsx)("option",{value:"chf",children:"CHF Swiss Franc (CHF)"}),(0,l.jsx)("option",{value:"cny",children:"\xa5 Chinese Yuan (CNY)"}),(0,l.jsx)("option",{value:"ron",children:"L Romanian Leu (RON)"}),(0,l.jsx)("option",{value:"zar",children:"R South African Rand (ZAR)"}),(0,l.jsx)("option",{value:"sgd",children:"$ Singapore Dollar (SGD)"}),(0,l.jsx)("option",{value:"hkd",children:"$ Hong Kong Dollar (HKD)"}),(0,l.jsx)("option",{value:"nzd",children:"$ New Zealand Dollar (NZD)"}),(0,l.jsx)("option",{value:"brl",children:"R$ Brazilian Real (BRL)"}),(0,l.jsx)("option",{value:"sek",children:"kr Swedish Krona (SEK)"}),(0,l.jsx)("option",{value:"nok",children:"kr Norwegian Krone (NOK)"}),(0,l.jsx)("option",{value:"dkk",children:"kr Danish Krone (DKK)"}),(0,l.jsx)("option",{value:"mxn",children:"$ Mexican Peso (MXN)"}),(0,l.jsx)("option",{value:"rub",children:"\u20bd Russian Ruble (RUB)"})]})})]}),(0,l.jsxs)("div",{className:"mb-3",children:[(0,l.jsxs)("select",{className:"form-select ".concat(u.userId?"is-invalid":""),name:"userId",value:m.userId,onChange:v,children:[(0,l.jsx)("option",{value:"",children:"-- Select Account Owner --"}),c.filter(e=>"super_admin"!==e.user_type).map(e=>(0,l.jsxs)("option",{value:e.id,children:[e.name," (",e.email_id,")"]},e.id))]}),u.userId&&(0,l.jsx)("div",{className:"invalid-feedback",children:u.userId})]}),(0,l.jsx)("hr",{}),(0,l.jsx)("div",{className:"d-flex justify-content-end mt-3",children:(0,l.jsx)("button",{type:"submit",className:"btn btn-lg",style:{backgroundColor:"#419EB9",color:"white"},children:"Save"})})]})})]})})}}}]);
//# sourceMappingURL=123.3dc630b5.chunk.js.map